{"version":3,"file":"main.js","mappings":"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","sources":["webpack://InfectionGame/./source/events.js","webpack://InfectionGame/./source/fluid.js","webpack://InfectionGame/./source/fps.js","webpack://InfectionGame/./source/game.js","webpack://InfectionGame/./source/mathUtils.js","webpack://InfectionGame/./source/populationGraph.js","webpack://InfectionGame/./source/probe.js","webpack://InfectionGame/./source/species/bacteria.js","webpack://InfectionGame/./source/species/neurons.js","webpack://InfectionGame/./source/statsDisplay.js","webpack://InfectionGame/./source/substance.js","webpack://InfectionGame/./source/timer.js","webpack://InfectionGame/./source/viewport.js","webpack://InfectionGame/./source/world.js","webpack://InfectionGame/webpack/bootstrap","webpack://InfectionGame/webpack/runtime/define property getters","webpack://InfectionGame/webpack/runtime/hasOwnProperty shorthand","webpack://InfectionGame/webpack/runtime/make namespace object","webpack://InfectionGame/./source/main.js"],"sourcesContent":["export class Events {\n\n    constructor() {\n        this.queue = [];\n    }\n\n    initialize(canvas) {\n        window.addEventListener('resize', (e) => this.onWindowResize(e));\n        window.addEventListener('keypress', (e) => this.onWindowKeypress(e));\n        canvas.addEventListener('click', (e) => this.onMouseClick(e));\n        canvas.addEventListener('mousemove', (e) => this.onMouseMove(e));\n        this.enqueueResizeEvent(window.innerWidth, window.innerHeight);\n    }\n\n    onMouseMove(e) {\n        this.enqueueMouseMoveEvent(e);\n    }\n\n    onWindowResize(e) {\n        this.enqueueResizeEvent(e.target.innerWidth, e.target.innerHeight);\n    }\n\n    onWindowKeypress(e) {\n        if (e.code === 'Space')\n            this.enqueueTogglePauseEvent();\n    }\n\n    onMouseClick(e) {\n        this.enqueueMouseClickEvent(e);\n    }\n\n    enqueueTogglePauseEvent() {\n        this.queue.push({type: 'pause'});\n    }\n\n    enqueueResizeEvent(newWidth, newHeight) {\n        this.queue.push(\n            { type: 'resize', width: newWidth, height: newHeight }\n        );\n    }\n\n    enqueueTickEvent(timeDiff) {\n        this.queue.push(\n            { type: 'tick', timeDiff: timeDiff }\n        );\n    }\n\n    enqueueFrameEvent(timeDiff) {\n        this.queue.push(\n            {type: 'frame', timeDiff: timeDiff}\n        );\n    }\n\n    enqueueMouseClickEvent(e) {\n        this.queue.push({type: 'click', x : e.clientX, y: e.clientY});\n    }\n\n    enqueueMouseMoveEvent(e) {\n        this.queue.push({type: 'move', x: e.clientX, y: e.clientY});\n    }\n\n    onResize(callback) {\n        this.invoke('resize', callback);\n    }\n\n    onTick(callback) {\n        this.invoke('tick', callback);\n    }\n\n    onFrame(callback) {\n        this.invoke('frame', callback);\n    }\n\n    onTogglePause(callback) {\n        this.invoke('pause', callback);\n    }\n\n    onClick(callback) {\n      this.invoke('click', callback);\n    }\n\n    onMove(callback) {\n        this.invoke('move', callback);\n    }\n\n    invoke(eventType, handler) {\n        const events = this.queue.filter(e => e.type === eventType);\n        for (let event of events)\n            handler(event);\n    }\n\n    clear() {\n        this.queue = [];\n    }\n}","import {Substance} from './substance';\nimport {MathUtils} from './mathUtils';\n\nexport class Fluid {\n    constructor() {\n        this.substances = [];\n    }\n\n    update(game) {\n        for (let substance of this.substances)\n            substance.update(game);\n    }\n\n    render(game) {\n        const {context, viewport} = game;\n        context.save();\n        \n        let clipRect = new Path2D();\n        clipRect.rect(viewport.left, viewport.top, viewport.width, viewport.height);\n        context.clip(clipRect);\n\n        for (let substance of this.substances)\n            substance.render(game);\n\n        context.restore();\n    }\n\n    addSubstance(x, y, amount) {\n        this.substances.push(new Substance(x, y, amount));\n    }\n\n    removeSubstance(substance) {\n        this.substances = this.substances.filter((s) => s !== substance);\n    }\n\n    consumeSubstancesAt(game, x, y) {\n        return this.substances\n            .map(s => this.consumeSubstanceAt(game, s, x, y))\n            .reduce((a, b) => a + b, 0);\n    }\n\n    consumeSubstanceAt(game, substance, x, y) {\n        const amount = this.getConcentration(substance, x, y);\n        substance.subtract(game, amount);\n        return amount;\n    }\n\n    getConcentration(substance, x, y) {\n        if (substance.area <= 0) return 0;\n        const  dist = MathUtils.dist(x, substance.x, y, substance.y);\n        if (dist > substance.area) return 0;\n        return substance.concentration;\n    }\n\n    getTotalConcentration(x, y) {\n        return this.substances\n            .map(s => this.getConcentration(s, x, y))\n            .reduce((a, b) => a + b, 0);\n    }\n}","export class FPS {\n    \n    constructor() {\n        this.fps = 0;\n    }\n\n    update(game) {\n        game.events.onFrame((e) => this.updateFps(e.timeDiff));\n    }   \n\n    updateFps(timeDiff) {\n        this.fps = Math.round(1 / timeDiff);\n    }\n\n    render(game) {\n        const {context} = game;\n\n        context.fillStyle = 'black';\n        context.font = '10px sans-serif';\n        context.fillText('FPS: ' + this.fps, 3, 10);\n    } \n}","import {Viewport} from './viewport';\nimport {Events} from './events';\nimport {FPS} from './fps';\nimport {World} from './world';\nimport {Timer} from './timer';\nimport {Probe} from './probe';\nimport {StatsDisplay} from './statsDisplay';\nimport {PopulationGraph} from './populationGraph';\n\nexport class Game {\n\n    constructor(canvas) {\n        this.events = new Events();\n        this.canvas = canvas;\n        this.context = this.canvas.getContext('2d');\n        this.viewport = new Viewport();\n        this.world = new World();\n        this.timer = new Timer();\n        this.fps = new FPS();\n        this.probe = new Probe();\n        this.populationGraph = new PopulationGraph();\n        this.statsDisplay = new StatsDisplay();\n        this.paused = false;\n    }\n\n    initialize() {\n        this.events.initialize(this.canvas);\n        this.nextFrame();\n    }\n\n    run() {\n        this.update();\n        this.render();\n        this.nextFrame();\n    }\n\n    update() {\n        this.events.onTogglePause(() => this.paused = !this.paused);\n        this.viewport.update(this);\n        this.timer.update(this);\n        this.fps.update(this);\n        this.world.update(this);\n        this.populationGraph.update(this);\n        this.probe.update(this);\n        this.statsDisplay.update(this);\n        this.events.clear();\n    }\n\n    render() {\n        this.viewport.render(this);\n        this.timer.render(this);\n        this.world.render(this);\n        this.fps.render(this);\n        this.populationGraph.render(this);\n        this.probe.render(this);\n        this.statsDisplay.render(this);\n    }\n\n    nextFrame() {\n        window.requestAnimationFrame(() => this.run());\n    }\n}","export class MathUtils {\n\n    static dist(x1, x2, y1, y2) {\n        const dx = x2 - x1;\n        const dy = y2 - y1;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n    \n}","export class PopulationGraph {\n    constructor() {\n        this.points = [];\n        this.maxPoints = 100;\n        this.width = 200;\n        this.height = 40;\n        this.top = 15;\n        this.left = 3;\n    }\n\n    update(game) {\n        const {events} = game;\n        events.onFrame(() => this.updateGraph(game.world));\n    }\n\n    updateGraph(world) {\n        this.points.push(world.species.length);\n        if (this.points.length > this.maxPoints)\n            this.points.shift();\n    }\n\n    render(game) {\n        const {context} = game;\n\n        const maxValue = Math.max(...this.points);\n        const minValue = Math.min(...this.points);\n        const avgValue = this.points.reduce((a, b) => a + b, 0) / this.points.length;\n        const vScale = this.height / (maxValue - minValue);\n        const hScale = this.width / this.maxPoints;\n        const bottom = this.top + this.height;\n\n        context.font = '8px sans-serif';\n        context.fillStyle = 'rgba(0, 0, 0, 0.5)';\n        context.fillText(maxValue, this.left + 1, this.top + 10);\n        context.fillText(minValue, this.left + 1, bottom - 2);\n        context.fillText(Math.ceil(avgValue), this.left + 1, this.top + this.height / 2 + 4);\n\n        context.beginPath();\n        for (let i = 0; i < this.points.length; i++)\n        {\n            context.moveTo(this.left + i * hScale, bottom);\n            context.lineTo(this.left + i * hScale, bottom - (this.points[i] - minValue) * vScale);\n        }\n        context.strokeStyle = 'rgba(0, 0, 0, 0.2)';\n        context.stroke();\n    }\n}","export class Probe {\n    constructor() {\n        this.x = 0;\n        this.y = 0;\n        this.location = {x:0, y:0};\n        this.enabled = false;\n    }\n\n    update(game) {\n        if (!this.enabled) return;\n        \n        this.concentration = this.getConcentration(game).toFixed(4);\n        game.events.onMove(e => {\n            if (!game.viewport.contains(e.x, e.y)) return;\n            this.x = e.x;\n            this.y = e.y;\n            this.location = game.world.toGame(game, this.x, this.y);\n        });\n    }\n\n    render(game) {\n        if (!this.enabled) return;\n\n        const {context} = game;\n        context.fillStyle = 'rgba(0, 0, 0, 0.5)';\n        context.fillText(this.concentration, this.x + 2, this.y - 2);\n        context.strokeStyle = 'black';\n        context.beginPath();\n        context.moveTo(this.x, this.y - 5);\n        context.lineTo(this.x, this.y + 5);\n        context.moveTo(this.x - 5, this.y);\n        context.lineTo(this.x + 5, this.y);\n        context.stroke();\n    }\n\n    getConcentration(game) {\n        const {x,y} = this.location;\n        return game.world.fluid.getTotalConcentration(x, y);\n    }\n}","import {RandomMovementNeuron} from './neurons';\n\nexport class Bacteria {\n\n    constructor(x, y, generation) {\n        this.x = x;\n        this.y = y;\n        this.age = 0;\n        this.isSelected = false;\n        this.lifetime = 1 + Math.ceil(Math.random() * 10);\n        this.reproductionAge = 5;\n        this.movementNeuron = new RandomMovementNeuron(this);\n        this.poisonConsumed = 0;\n        this.maxPoisoning = 0.1;\n        this.generation = generation;\n    }\n\n    update(game) {\n        const {events} = game;\n\n        events.onFrame((e) => { \n            this.updatePosition(game, e.timeDiff); \n            this.consumeSubstance(game, e.timeDiff);\n        });\n\n        events.onTick((e) => this.heartbeat(game, e.timeDiff));\n    }\n\n    heartbeat(game, timeDiff) {\n        this.updateAge(game.world);\n    }\n    \n    updatePosition(game, timeDiff) {\n        this.movementNeuron.activate(game, timeDiff);\n    }\n\n    updateAge(world) {\n        this.age += 1;\n        if (this.age >= this.lifetime) {\n            this.die(world);\n        } else if (this.age >= this.reproductionAge) {\n            this.reproduce(world);\n        }\n    }\n\n    consumeSubstance(game, timeDiff) {\n        const amount = game.world.fluid.consumeSubstancesAt(game, this.x, this.y);\n        this.poisonConsumed += amount * timeDiff;\n    }\n\n    reproduce(world) {\n        if (world.species.length > world.maxPopulation) return;\n        if (this.poisonConsumed > this.maxPoisoning) return;\n        const offspring1 = new Bacteria(this.x, this.y, this.generation + 1);\n        const offspring2 = new Bacteria(this.x, this.y, this.generation + 1);\n        world.addSpecies(offspring1);\n        world.addSpecies(offspring2);\n        world.removeSpecies(this);\n    }\n\n    die(world) {\n        world.addSubstance(this.x, this.y, 20);\n        world.removeSpecies(this);\n    }\n \n    render(game) {\n        const {context, world} = game;\n\n        const location = world.toScreen(game, this.x, this.y);\n\n        const scale = world.getScaleX(game);\n\n        context.beginPath();\n        context.fillStyle = 'black';\n        if (this.isSelected) context.fillStyle = 'cyan';\n        context.arc(location.x, location.y, scale / 2, 0, 2 * Math.PI);\n        context.fill();\n    }\n}","class OutputNeuron {\n    constructor(owner) {\n        this.owner = owner;\n    }\n}\n\nclass MovementNeuron extends OutputNeuron {\n    constructor(owner) {\n        super(owner);\n        this.owner = owner;\n        this.speed = 10;\n    }\n\n    getDistance(timeDiff) {\n        return timeDiff * this.speed\n    }\n\n    moveTo(location) {\n        this.owner.x = location.x;\n        this.owner.y = location.y;\n    }\n\n    restrict(world, x, y) {\n        if (x < 0) x = 0;\n        if (y < 0) y = 0;\n        if (x >= world.width - 1) x = world.width - 1;\n        if (y >= world.height - 1) y = world.height - 1;\n        return {x, y};\n    }\n}\n\nexport class RandomMovementNeuron extends MovementNeuron {\n\n    constructor(owner) {\n        super(owner);\n        this.direction = Math.random() * 2 * Math.PI;\n    }\n\n    activate(game, timeDiff) {\n        const {world} = game;\n        this.updateDirection();\n        const distance = this.getDistance(timeDiff);\n        const x = this.owner.x + Math.cos(this.direction) * distance;\n        const y = this.owner.y + Math.sin(this.direction) * distance;\n        const newLocation = this.restrict(world, x, y);\n        this.moveTo(newLocation);\n    }\n\n    updateDirection() {\n        const changeProb = Math.random();\n        if (changeProb > 0.95)\n            this.direction = Math.random() * 2 * Math.PI;\n        else if (changeProb > 0.5)\n            this.direction += (Math.random() - 0.5) * Math.PI * 0.2;\n    }\n}","export class StatsDisplay {\n    constructor() {\n        this.left = 3;\n        this.top = 70 ;\n    }\n\n    update(game) {\n    }\n\n    render(game) {\n        const {context} = game;\n        let top = this.top;\n\n        context.fillStyle = 'black';\n        context.font = \"10px Arial\";\n        context.textAlign = 'left';\n\n        const generations = game.world.species.map(s => s.generation);\n\n        context.fillText('Species: ' + game.world.species.length, this.left, top);\n        context.fillText('Year: ' + game.timer.ticks, this.left, top += 12);\n\n        if (generations.length)\n        context.fillText(`Generations: ${Math.min(...generations)}-${Math.max(...generations)}`, this.left, top += 12);\n\n        const bacteria = game.world.selectedSpecies;\n        if (!game.world.selectedSpecies) return;\n        context.fillText('Age: ' + bacteria.age, this.left, top += 12);\n        context.fillText('Lifetime: ' + bacteria.lifetime, this.left, top += 12);\n        context.fillText('Poisoning: ' + bacteria.poisonConsumed, this.left, top += 12);\n        context.fillText('Generation: ' + bacteria.generation, this.left, top += 12);\n    }\n}","export class Substance {\n\n    constructor(x, y, amount) {\n        this.x = x;\n        this.y = y;\n        this.area = 0.5;\n        this.spreadRate = 10;\n        this.dissolveRate = 10;\n        this.amount = amount;\n        this.minAmount = 0.01;\n        this.concentrationFactor = this.amount / this.area;\n        this.concentration = 1;\n    }\n\n    update(game) {\n        game.events.onFrame((e) => this.spread(game, e.timeDiff));\n    }\n\n    spread(game, timeDiff) {\n        if (this.amount <= this.minAmount) {\n            game.world.removeSubstance(this);\n            return;\n        }\n        \n        this.area += this.spreadRate * timeDiff;\n        this.amount -= this.dissolveRate * timeDiff;\n        this.concentration = this.amount / this.area / this.concentrationFactor;\n    }\n\n    subtract(game, amount) {\n        this.amount -= amount;\n        this.concentration = this.amount / this.area / this.concentrationFactor;\n\n        if (this.amount <= this.minAmount) {\n            game.world.removeSubstance(this);\n            return;\n        }\n    }\n\n    render(game) {\n        const {context, world} = game;\n\n        const {x, y} = world.toScreen(game, this.x, this.y);\n        const radius = world.getScaleX(game) * this.area;\n\n        const alpha = this.concentration;\n        context.beginPath();\n        context.arc(x, y, radius, 0, Math.PI * 2);\n        context.fillStyle = `rgba(255, 0, 0, ${alpha})`;\n        context.fill();\n    }\n}","export class Timer {\n    constructor(interval) {\n        this.frameStart = this.tickStart = Date.now();\n        this.interval = interval || 0.1;\n        this.ticks = 0;\n    }\n\n    update(game) {\n        const now = Date.now();\n\n        if (game.paused) {\n            this.frameStart = now;\n            this.tickStart = now;\n            return;\n        }\n        \n        const frameTime = (now - this.frameStart) / 1000;\n        this.frameStart = now;\n        game.events.enqueueFrameEvent(frameTime);\n\n        const tickTime = (now - this.tickStart) / 1000;\n        if (tickTime >= this.interval) {\n            game.events.enqueueTickEvent(tickTime);\n            this.tickStart = now;\n            this.ticks++;\n        }\n    }\n\n    render() { }\n}","export class Viewport {\n\n    update(game) {\n        game.events.onResize((e) => this.resize(e));\n    }\n\n    resize(e) {\n        this.canvasWidth = e.width;\n        this.canvasHeight = e.height;\n\n        const minDim = Math.min(e.width, e.height);\n\n        this.width = minDim;\n        this.height = minDim;\n        \n        this.left = this.canvasWidth / 2 - this.width / 2;\n        this.top = this.canvasHeight / 2 - this.height / 2;\n    }\n\n    contains(x, y) {\n        return x >= this.left && \n            x <= this.left + this.width &&\n            y >= this.top &&\n            y <= this.top + this.height;\n    }\n\n    render(game) {\n        const {context} = game;\n        context.canvas.width = this.canvasWidth;\n        context.canvas.height = this.canvasHeight;\n\n        context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n        context.beginPath();\n        context.rect(this.left, this.top, this.width, this.height);\n        context.stroke();\n    }\n}","import {Bacteria} from './species/bacteria';\nimport {Fluid} from './fluid';\nimport {MathUtils} from './mathUtils';\n\nexport class World {\n\n    constructor() {\n        this.width = 128;\n        this.height = 128;\n        this.maxPopulation = 2000;\n        this.species = [\n            new Bacteria(64, 64, 0)\n        ];\n        this.fluid = new Fluid();\n    }\n\n    update(game) {\n        this.fluid.update(game);\n        \n        for (let s of this.species)\n            s.update(game);\n\n        game.events.onClick((e) => this.handleClick(e, game));\n    }\n\n    handleClick(e, game) {\n      this.species.forEach(s => s.isSelected = false);\n\n      this.selectedSpecies = this.species.filter(s => this.isClicked(s, e, game))[0];\n      \n       if (this.selectedSpecies) this.selectedSpecies.isSelected = true;\n    }\n\n    isClicked(species, e, game) {\n      const location = this.toScreen(game, species.x, species.y);\n      const dist = MathUtils.dist(location.x, e.x, location.y, e.y);\n      return dist <= this.getScaleX(game);\n    }\n\n    render(game) {\n        this.fluid.render(game);\n        for (let s of this.species)\n            s.render(game);\n    }\n\n    toScreen(game, x, y) {\n        const {viewport} = game;\n        const scaleX = this.getScaleX(game);\n        const scaleY = this.getScaleY(game);\n        return {\n            x: x * scaleX + viewport.left + scaleX / 2,\n            y: y * scaleY + viewport.top + scaleY / 2\n        }\n    }\n\n    toGame(game, x, y) {\n        const {viewport} = game;\n        const scaleX = this.getScaleX(game);\n        const scaleY = this.getScaleY(game);\n        return {\n            x: (x - viewport.left) / scaleX,\n            y: (y - viewport.top) / scaleY\n        }\n    }\n\n    getScaleX(game) {\n        const {viewport} = game;\n        return viewport.width / this.width;\n    }\n\n    getScaleY(game) {\n        const {viewport} = game;\n        return viewport.height / this.height;\n    }\n\n    addSpecies(species) {\n        this.species.push(species);\n    }\n\n    removeSpecies(species) {\n        this.species = this.species.filter(s => s !== species);\n        if (this.selectedSpecies === species) this.selectedSpecies = null;\n    }\n\n    addSubstance(x, y, amount) {\n        this.fluid.addSubstance(x, y, amount);\n    }\n\n    removeSubstance(substance) {\n        this.fluid.removeSubstance(substance);\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {Game} from './game';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const canvas = document.getElementById('viewport');\n    const game = new Game(canvas);\n    game.initialize();\n});"],"names":["Events","queue","canvas","window","addEventListener","e","onWindowResize","onWindowKeypress","onMouseClick","onMouseMove","enqueueResizeEvent","innerWidth","innerHeight","enqueueMouseMoveEvent","target","code","enqueueTogglePauseEvent","enqueueMouseClickEvent","push","type","newWidth","newHeight","width","height","timeDiff","x","clientX","y","clientY","callback","invoke","eventType","handler","events","filter","event","Substance","MathUtils","Fluid","substances","game","substance","update","context","viewport","save","clipRect","Path2D","rect","left","top","clip","render","restore","amount","s","map","consumeSubstanceAt","reduce","a","b","getConcentration","subtract","area","dist","concentration","FPS","fps","onFrame","updateFps","Math","round","fillStyle","font","fillText","Viewport","World","Timer","Probe","StatsDisplay","PopulationGraph","Game","getContext","world","timer","probe","populationGraph","statsDisplay","paused","initialize","nextFrame","onTogglePause","clear","requestAnimationFrame","run","x1","x2","y1","y2","dx","dy","sqrt","points","maxPoints","updateGraph","species","length","shift","maxValue","max","minValue","min","avgValue","vScale","hScale","bottom","ceil","beginPath","i","moveTo","lineTo","strokeStyle","stroke","location","enabled","toFixed","onMove","contains","toGame","fluid","getTotalConcentration","RandomMovementNeuron","Bacteria","generation","age","isSelected","lifetime","random","reproductionAge","movementNeuron","poisonConsumed","maxPoisoning","updatePosition","consumeSubstance","onTick","heartbeat","updateAge","activate","die","reproduce","consumeSubstancesAt","maxPopulation","offspring1","offspring2","addSpecies","removeSpecies","addSubstance","toScreen","scale","getScaleX","arc","PI","fill","OutputNeuron","owner","MovementNeuron","speed","direction","updateDirection","distance","getDistance","cos","sin","newLocation","restrict","changeProb","textAlign","generations","ticks","bacteria","selectedSpecies","spreadRate","dissolveRate","minAmount","concentrationFactor","spread","removeSubstance","radius","alpha","interval","frameStart","tickStart","Date","now","frameTime","enqueueFrameEvent","tickTime","enqueueTickEvent","onResize","resize","canvasWidth","canvasHeight","minDim","clearRect","onClick","handleClick","forEach","isClicked","scaleX","scaleY","getScaleY","document","getElementById"],"sourceRoot":""}